<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Charity for Children</title>

  <!-- PayPal SDK with AUD and Card support -->
  <script src="https://www.paypal.com/sdk/js?client-id=YOUR_CLIENT_ID&components=buttons,subscriptions,funding-eligibility&enable-funding=card&currency=AUD"></script>

  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>

  <style>
    .amount-btn {
      background-color: #facc15;
      padding: 0.75rem 1.5rem;
      font-weight: 600;
      border-radius: 0.5rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      transition: background-color 0.2s;
    }
    .amount-btn:hover {
      background-color: #eab308;
    }
    .amount-btn.active {
      background-color: #d97706;
      color: white;
    }
  </style>
</head>
<body class="bg-gray-50 font-sans">

  <!-- Hero Section -->
  <section class="bg-red-500 text-white py-16 px-6 text-center">
    <h1 class="text-4xl md:text-5xl font-bold mb-4">Help Children Build a Brighter Future</h1>
    <p class="text-lg md:text-xl max-w-2xl mx-auto">
      Your donation provides food, education, and medical care to children in need. 
      Together, we can give hope and change lives.
    </p>
  </section>

  <!-- Donation Selection Section -->
  <section class="max-w-3xl mx-auto py-12 px-6 text-center">
    <h2 class="text-3xl font-semibold text-gray-800 mb-6">Choose Donation Type</h2>

    <div class="flex justify-center gap-8 mb-8">
      <label>
        <input type="radio" name="donationType" value="once" class="mr-2" /> One-Time Donation
      </label>
      <label>
        <input type="radio" name="donationType" value="subscribe" class="mr-2" /> Monthly Subscription
      </label>
    </div>

    <!-- One-Time Donation Form -->
    <div id="onceDonationForm" class="hidden">
      <h3 class="text-2xl font-semibold text-gray-700 mb-4">Select Amount</h3>
      <div class="flex flex-wrap justify-center gap-4 mb-6">
        <button class="amount-btn" data-value="5">$5</button>
        <button class="amount-btn" data-value="10">$10</button>
        <button class="amount-btn" data-value="20">$20</button>
        <button class="amount-btn" data-value="50">$50</button>
      </div>

      <div class="mb-6">
        <input id="customAmount" type="number" min="1" placeholder="Enter custom amount" 
              class="border border-gray-300 rounded-lg py-2 px-4 w-64 text-center shadow-sm focus:outline-none focus:ring-2 focus:ring-yellow-400">
      </div>

      <button id="proceedBtn" 
              class="bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-3 px-8 rounded-lg shadow-lg transition">
        Proceed
      </button>

      <div id="paypal-container" class="mt-8 hidden">
        <div id="paypal-button-container"></div>
      </div>

      <div id="successMessage" class="hidden mt-8 text-green-600 font-semibold text-lg">
        ✅ Thank you! Your donation was successful.
      </div>
    </div>

    <!-- Subscription Donation Form -->
    <div id="subscriptionForm" class="hidden mt-8">
      <h3 class="text-2xl font-semibold text-gray-700 mb-4">Monthly Support</h3>
      <p class="mb-4 text-gray-600">Support us every month with a recurring donation.</p>
      <div id="paypal-subscribe-button-container"></div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-800 text-gray-200 py-6 text-center">
    <p class="text-sm">&copy; 2025 Charity for Children. All Rights Reserved.</p>
    <p class="text-xs mt-2">Your donations go directly to helping children in need.</p>
  </footer>

  <script>
    let selectedAmount = null;
    let paypalRendered = false;
    let subscriptionRendered = false;

    const buttons = document.querySelectorAll('.amount-btn');
    const customInput = document.getElementById('customAmount');

    // Handle preset button click
    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        selectedAmount = btn.getAttribute('data-value');
        buttons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        customInput.value = '';
      });
    });

    // Clear selection when custom amount typed
    customInput.addEventListener('input', () => {
      selectedAmount = null;
      buttons.forEach(b => b.classList.remove('active'));
    });

    document.getElementById("proceedBtn").addEventListener("click", function() {
      let amount = customInput.value ? customInput.value : selectedAmount;

      if (!amount || amount < 1) {
        alert("Please select or enter a donation amount.");
        return;
      }

      document.getElementById("paypal-container").classList.remove("hidden");

      if (!paypalRendered) {
        paypalRendered = true;
        paypal.Buttons({
          style: {
            shape: 'pill',
            color: 'gold',
            layout: 'vertical',
            label: 'paypal'
          },
          fundingSource: paypal.FUNDING.CARD,
          createOrder: function(data, actions) {
            return actions.order.create({
              purchase_units: [{ amount: { value: amount } }]
            });
          },
          onApprove: function(data, actions) {
            return actions.order.capture().then(function(details) {
              document.getElementById("paypal-container").classList.add("hidden");
              document.getElementById("successMessage").classList.remove("hidden");
            });
          }
        }).render('#paypal-button-container');
      }
    });

    // Show/hide donation forms based on selected radio
    const radioButtons = document.querySelectorAll('input[name="donationType"]');
    radioButtons.forEach(radio => {
      radio.addEventListener('change', function() {
        const onceForm = document.getElementById("onceDonationForm");
        const subscriptionForm = document.getElementById("subscriptionForm");
        onceForm.classList.add("hidden");
        subscriptionForm.classList.add("hidden");

        if (this.value === "once") {
          onceForm.classList.remove("hidden");
        } else if (this.value === "subscribe") {
          subscriptionForm.classList.remove("hidden");

          if (!subscriptionRendered) {
            subscriptionRendered = true;
            paypal.Buttons({
              style: {
                shape: 'pill',
                color: 'gold',
                layout: 'vertical',
                label: 'subscribe'
              },
              createSubscription: function(data, actions) {
                return actions.subscription.create({
                  plan_id: 'YOUR_PLAN_ID' // Replace with your actual PayPal Subscription Plan ID
                });
              },
              onApprove: function(data, actions) {
                alert('✅ Subscription successful. Thank you!');
              }
            }).render('#paypal-subscribe-button-container');
          }
        }
      });
    });
  </script>
</body>
</html>
